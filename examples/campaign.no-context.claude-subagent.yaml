schemaVersion: 1
campaignId: no-context-claude-subagent
outRoot: .zcl
promptMode: mission_only

missionSource:
  path: ./missions
  selection:
    mode: all

execution:
  flowMode: sequence

pairGate:
  enabled: true
  traceProfile: none

flows:
  - flowId: claude-subagent-flow
    runner:
      type: claude_subagent
      command: ["claude", "--", "./scripts/runner_claude_subagent.sh"]
      sessionIsolation: process
      feedbackPolicy: strict
      freshAgentPerAttempt: true
      toolDriver:
        kind: cli_funnel
        shims: ["tool-cli"]
      finalization:
        mode: auto_from_result_json
        resultChannel:
          kind: file_json
          path: mission.result.json
